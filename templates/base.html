<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Aula Virtual{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/stars.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/themes.css') }}">

</head>
<body>
    <!-- Fondos animados -->
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>

    <!-- Layout con Sidebar -->
    <div class="d-flex">
        <!-- Sidebar -->
        <div class="sidebar p-3">
            <h2 class="text-white">ðŸ“˜ Aula</h2>
            <ul class="nav flex-column">
                <li class="nav-item"><a href="{{ url_for('dashboard') }}" class="nav-link text-white">Dashboard</a></li>
                <li class="nav-item"><a href="{{ url_for('cursos') }}" class="nav-link text-white">Cursos</a></li>
                <li class="nav-item"><a href="{{ url_for('ver_notificaciones') }}" class="nav-link text-white">Notificaciones</a></li>
                <li class="nav-item"><a href="{{ url_for('logout') }}" class="nav-link text-white">Salir</a></li>
            </ul>
        </div>

        <!-- Contenido principal -->
        <div class="content flex-grow-1 p-4">
            {% block content %}{% endblock %}
        </div>
    </div>

    <!-- Mensajes flash -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="container mt-3">
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
        {% endif %}
    {% endwith %}

    <!-- Selector de tema -->
    <div class="theme-switcher position-fixed bottom-0 end-0 m-3">
        <select id="themeSelect" class="form-select">
            <option value="light">ðŸŒž Claro</option>
            <option value="dark">ðŸŒ™ Oscuro</option>
            <option value="blue">ðŸ”µ Azul</option>
            <option value="red">ðŸ”´ Rojo</option>
        </select>
    </div>

    <script>
    const themeSelect = document.getElementById("themeSelect");
    const savedTheme = localStorage.getItem("theme") || "light";
    document.documentElement.setAttribute("data-theme", savedTheme);
    themeSelect.value = savedTheme;

    themeSelect.addEventListener("change", (e) => {
        const theme = e.target.value;
        document.documentElement.setAttribute("data-theme", theme);
        localStorage.setItem("theme", theme);
    });
    </script>
</body>
</html>
